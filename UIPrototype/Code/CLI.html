<!DOCTYPE html>
<head>
<meta charset="utf-8" />
<title>PCLogo</title>
<link href="CLI.css" rel="stylesheet" type="text/css">
<script src="http://code.jquery.com/jquery-1.10.2.min.js">
</script>
<script>
    $(document).ready(function(){
        var c=document.getElementById("myCanvas");
        var ctx=c.getContext("2d");
        var angle = 90.0;
        var x = 400.0;
        var y = 200.0;
        $(document).keyup(function(event){
            if(event.keyCode ==13){
                
                var command = document.getElementById("in").value;
                
                $("ul").append("<li>"+$("#in").val()+"</li>"); //将输入的输出到界面
                // $("ul").append("<li>"+msg+"</li>"); //获取返回值并输出
                $("#in").val(""); //清空输入框
                $("#text").scrollTop($("#text").scrollTop()+32);//滚动条拉到最下面，显示出输入框

                var cmd = command.split(' ');
                
                switch(cmd[0]) {
                    case "FD":
                    ctx.moveTo(x,y);
                    x = x + parseFloat(cmd[1])*Math.cos(angle/180*Math.PI);
                    y = y - parseFloat(cmd[1])*Math.sin(angle/180*Math.PI);
                    ctx.lineTo(x,y);
                    ctx.stroke();
                    break;

                    case "BK":
                    ctx.moveTo(x,y);
                    x = x - parseFloat(cmd[1])*Math.cos(angle/180*Math.PI);
                    y = y + parseFloat(cmd[1])*Math.sin(angle/180*Math.PI);
                    ctx.lineTo(x,y);
                    ctx.stroke();
                    break;

                    case "RT":
                    angle = angle - parseFloat(cmd[1]);
                    break;

                    case "LT":
                    angle = angle + parseFloat(cmd[1]);
                    break;

                    case "CLEAN":
                    x = 100.0;
                    y = 50.0;
                    angle = 90.0
                    c.height = c.height;
                    break;

                    default:
                }
                console.log(angle);
            }
        });

        $("#in")[0].focus();
    });
</script>
</head>
    <body>
        <canvas id="myCanvas" width="800" height="400" class="canvas"></canvas>
        <div class="window">
            <div class="title">
            <span>PCLogo</span>
            </div>
            <div id="text">
            <ul>
            <li>Welcome...</li>
            </ul>
            <input type="text" name="" id='in'>
            </div>
        </div>
    </body>
</html>